import{c as k}from"./element-plus.af689926.js";import{c as P}from"./_commonjs-dynamic-modules.377d74e3.js";import{_ as w,g as M}from"./index.e993e962.js";import{o as g,c as C,I as E,a as p,J as b,U as y,F as I,a8 as R,K as G,T as L,S as U,ah as A,O as z,P as N,V}from"./vendor-vue.cefe3aef.js";import{i as B}from"./index.afa609c1.js";import"./element-icon.1fe9d2a8.js";import"./vendor-lib.a8c0b8df.js";var T={exports:{}};(function(e,n){(function(a,i){e.exports=i(P,n,e)})(k,function(a,i,u){var o=function(c,m,_,F,$,S){for(var D=0,l=["webkit","moz","ms","o"],x=0;x<l.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[l[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[l[x]+"CancelAnimationFrame"]||window[l[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(r,s){var d=new Date().getTime(),h=Math.max(0,16-(d-D)),v=window.setTimeout(function(){r(d+h)},h);return D=d+h,v}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(r){clearTimeout(r)});var t=this;t.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null};for(var q in S)S.hasOwnProperty(q)&&(t.options[q]=S[q]);t.options.separator===""&&(t.options.useGrouping=!1),t.options.prefix||(t.options.prefix=""),t.options.suffix||(t.options.suffix=""),t.d=typeof c=="string"?document.getElementById(c):c,t.startVal=Number(m),t.endVal=Number(_),t.countDown=t.startVal>t.endVal,t.frameVal=t.startVal,t.decimals=Math.max(0,F||0),t.dec=Math.pow(10,t.decimals),t.duration=1e3*Number($)||2e3,t.formatNumber=function(r){r=r.toFixed(t.decimals),r+="";var s,d,h,v;if(s=r.split("."),d=s[0],h=s.length>1?t.options.decimal+s[1]:"",v=/(\d+)(\d{3})/,t.options.useGrouping)for(;v.test(d);)d=d.replace(v,"$1"+t.options.separator+"$2");return t.options.prefix+d+h+t.options.suffix},t.easeOutExpo=function(r,s,d,h){return d*(-Math.pow(2,-10*r/h)+1)*1024/1023+s},t.easingFn=t.options.easingFn?t.options.easingFn:t.easeOutExpo,t.formattingFn=t.options.formattingFn?t.options.formattingFn:t.formatNumber,t.version=function(){return"1.7.1"},t.printValue=function(r){var s=t.formattingFn(r);t.d.tagName==="INPUT"?this.d.value=s:t.d.tagName==="text"||t.d.tagName==="tspan"?this.d.textContent=s:this.d.innerHTML=s},t.count=function(r){t.startTime||(t.startTime=r),t.timestamp=r;var s=r-t.startTime;t.remaining=t.duration-s,t.options.useEasing?t.countDown?t.frameVal=t.startVal-t.easingFn(s,0,t.startVal-t.endVal,t.duration):t.frameVal=t.easingFn(s,t.startVal,t.endVal-t.startVal,t.duration):t.countDown?t.frameVal=t.startVal-(t.startVal-t.endVal)*(s/t.duration):t.frameVal=t.startVal+(t.endVal-t.startVal)*(s/t.duration),t.countDown?t.frameVal=t.frameVal<t.endVal?t.endVal:t.frameVal:t.frameVal=t.frameVal>t.endVal?t.endVal:t.frameVal,t.frameVal=Math.round(t.frameVal*t.dec)/t.dec,t.printValue(t.frameVal),s<t.duration?t.rAF=requestAnimationFrame(t.count):t.callback&&t.callback()},t.start=function(r){return t.callback=r,t.rAF=requestAnimationFrame(t.count),!1},t.pauseResume=function(){t.paused?(t.paused=!1,delete t.startTime,t.duration=t.remaining,t.startVal=t.frameVal,requestAnimationFrame(t.count)):(t.paused=!0,cancelAnimationFrame(t.rAF))},t.reset=function(){t.paused=!1,delete t.startTime,t.startVal=m,cancelAnimationFrame(t.rAF),t.printValue(t.startVal)},t.update=function(r){cancelAnimationFrame(t.rAF),t.paused=!1,delete t.startTime,t.startVal=t.frameVal,t.endVal=Number(r),t.countDown=t.startVal>t.endVal,t.rAF=requestAnimationFrame(t.count)},t.printValue(t.startVal)};return o})})(T,T.exports);const O=T.exports;const j={name:"countTo",props:{init:{type:Number,required:!1,default:0},startVal:{type:Number,required:!1,default:0},end:{type:Number,required:!0},decimals:{type:Number,required:!1,default:0},decimal:{type:String,required:!1,default:"."},duration:{type:Number,required:!1,default:2},delay:{type:Number,required:!1,default:0},uneasing:{type:Boolean,required:!1,default:!1},usegroup:{type:Boolean,required:!1,default:!1},separator:{type:String,required:!1,default:","},simplify:{type:Boolean,required:!1,default:!1},unit:{type:Array,required:!1,default(){return[[3,"K+"],[6,"M+"],[9,"B+"]]}},countClass:{type:String,required:!1,default:""},unitClass:{type:String,required:!1,default:""}},data(){return{counter:null,unitText:""}},computed:{counterId(){return`count_to_${this._uid}`}},watch:{end(e){let n=this.getValue(e);this.counter.update(n)}},mounted(){this.$nextTick(()=>{let e=this.getValue(this.end);this.counter=new O(this.counterId,this.startVal,e,this.decimals,this.duration,{useEasing:!this.uneasing,useGrouping:this.useGroup,separator:this.separator,decimal:this.decimal}),setTimeout(()=>{this.counter.error||this.counter.start()},this.delay)})},methods:{getHandleVal(e,n){return{endVal:parseInt(e/Math.pow(10,this.unit[n-1][0])),unitText:this.unit[n-1][1]}},transformValue(e){let n=this.unit.length,a={endVal:0,unitText:""};if(e<Math.pow(10,this.unit[0][0]))a.endVal=e;else for(let i=1;i<n;i++)e>=Math.pow(10,this.unit[i-1][0])&&e<Math.pow(10,this.unit[i][0])&&(a=this.getHandleVal(e,i));return e>Math.pow(10,this.unit[n-1][0])&&(a=this.getHandleVal(e,n)),a},getValue(e){let n=0;if(this.simplify){let{endVal:a,unitText:i}=this.transformValue(e);this.unitText=i,n=a}else n=e;return n}}},K={class:"count-to-wrapper"},Y={class:"content-outer"},J=["id"];function W(e,n,a,i,u,o){return g(),C("div",K,[E(e.$slots,"left",{},void 0,!0),p("p",Y,[p("span",{class:b(["count-to-count-text",a.countClass]),id:o.counterId},y(a.init),11,J),p("span",{class:b(["count-to-unit-text",a.unitClass])},y(u.unitText),3)]),E(e.$slots,"right",{},void 0,!0)])}const Z=w(j,[["render",W],["__scopeId","data-v-84c2e9f0"]]),f={PRIMARY:"#409eff",SUCCESS:"#67c23a",INFO:"#909399",WARNING:"#e6a23c",DANGER:"#f56c6c"};const Q={name:"activePlate",components:{CountTo:Z},props:{infoList:{type:Array,require:!0}},data(){return{COLORS:f,colors:["#409eff","#409eff","#409eff","#f56c6c","#f56c6c","#f56c6c"]}},methods:{handleClick(e){console.log(e),this.$router.push({path:e.path})}}},X={class:"active-plate-main"},tt={class:"active-list"},et=["onClick"],nt={class:"desc"};function at(e,n,a,i,u,o){return g(),C("div",X,[p("ul",tt,[(g(!0),C(I,null,R(a.infoList,(c,m)=>(g(),C("li",{class:"item",onClick:_=>o.handleClick(c)},[p("p",{class:"num",style:G({color:c.color})},[L(y(c.count)+" ",1),U(' <CountTo :end="item.count"></CountTo> ')],4),p("p",nt,y(c.title),1)],8,et))),256))])])}const ot=w(Q,[["render",at]]);const it={props:{title:{type:String,default:"\u6807\u9898"},desc:{type:String,default:"\u63CF\u8FF0"}}},rt={class:"card-main"},st={class:"card-main__header"},ct={class:"card-main__title"},lt={class:"card-main__desc"};function ut(e,n,a,i,u,o){return g(),C("div",rt,[p("div",st,[p("div",ct,y(a.title),1),p("div",lt,y(a.desc),1)]),E(e.$slots,"default")])}const H=w(it,[["render",ut]]),dt={name:"",props:{list:{type:Array,default:()=>[]}},components:{HomeCard:H,ActivePlate:ot},data(){return{}},computed:{},methods:{},created(){}};function mt(e,n,a,i,u,o){const c=A("ActivePlate"),m=A("HomeCard");return g(),z(m,{desc:"System",title:"\u7CFB\u7EDF\u6570\u636E"},{default:N(()=>[V(c,{infoList:a.list},null,8,["infoList"])]),_:1})}const ft=w(dt,[["render",mt]]),pt=function(){return document.addEventListener?function(e,n,a){e&&n&&a&&e.addEventListener(n,a,!1)}:function(e,n,a){e&&n&&a&&e.attachEvent("on"+n,a)}}(),_t=function(){return document.removeEventListener?function(e,n,a){e&&n&&e.removeEventListener(n,a,!1)}:function(e,n,a){e&&n&&e.detachEvent("on"+n,a)}}();const ht={props:{value:Array,text:String,subtext:String},data(){return{chartDom:null}},beforeDestroy(){_t(window,"resize",this.resize)},methods:{resize(){this.chartDom&&this.chartDom.resize()},initChart(e){let n={};for(let o of e)n[o.name]=o.selected;let a=!0;e.forEach(o=>{o.value!=0&&(a=!1)});let i=e.map(o=>o.color);a==!0&&(i=["#cccccc","#cccccc"]);let u={color:i,tooltip:{trigger:"item"},legend:{top:"5%",left:"center",selectedMode:!1},series:[{type:"pie",showEmptyCircle:!0,radius:["30%","60%"],center:["50%","54%"],label:{show:!1},emphasis:{},data:e}]};this.chartDom||(this.chartDom=B(this.$refs.dom)),this.chartDom.setOption(u),e.forEach(o=>{o.selected||this.chartDom.dispatchAction({type:"legendUnSelect",name:o.name})}),pt(window,"resize",this.resize)}}},Vt={class:"pie-main",ref:"dom"};function gt(e,n,a,i,u,o){return g(),C("div",Vt,null,512)}const Ct=w(ht,[["render",gt]]);const yt={name:"Home",components:{HomeDataInfo:ft,HomeCard:H,HomeChartPie:Ct},props:{},data(){return{virtual_memory:{},disk_usage:{},adModal:!0,list:[],certValue:[]}},computed:{},watch:{},filters:{},methods:{async getData(){const e=await this.$http.getSystemData();this.list=e.data.map((n,a)=>(n.key=M(),a<3?n.color=f.PRIMARY:n.count>0?n.color=f.DANGER:n.color=f.SUCCESS,n)),this.handleInit(this.list)},handleInit(e){console.log(e);let n=e.find(l=>l.title==="\u8BC1\u4E66\u6570\u91CF").count,a=e.find(l=>l.title==="\u8FC7\u671F\u8BC1\u4E66").count,u=[{value:n-a,name:"\u672A\u8FC7\u671F",color:f.SUCCESS,selected:n>0},{value:a,name:"\u5DF2\u8FC7\u671F",color:f.DANGER,selected:a!=0}];this.$refs.HomeChartCertPie.initChart(u);let o=e.find(l=>l.title==="\u57DF\u540D\u6570\u91CF").count,c=e.find(l=>l.title==="\u8FC7\u671F\u57DF\u540D").count,_=[{value:o-c,name:"\u672A\u8FC7\u671F",color:f.SUCCESS,selected:o>0},{value:c,name:"\u5DF2\u8FC7\u671F",color:f.DANGER,selected:c>0}];this.$refs.HomeChartDomainPie.initChart(_);let F=e.find(l=>l.title==="\u76D1\u63A7\u6570\u91CF").count,$=e.find(l=>l.title==="\u76D1\u63A7\u5F02\u5E38").count,D=[{value:F-$,name:"\u6B63\u5E38",color:f.SUCCESS,selected:F>0},{value:$,name:"\u5F02\u5E38",color:f.DANGER,selected:$>0}];this.$refs.HomeChartMonitorPie.initChart(D)}},mounted(){this.getData()}},wt={class:"app-container dashboard"},$t={class:"grid mt-md gap-[20px] grid-cols-3"};function xt(e,n,a,i,u,o){const c=A("HomeDataInfo"),m=A("HomeChartPie"),_=A("HomeCard");return g(),C("div",wt,[V(c,{list:u.list},null,8,["list"]),p("div",$t,[V(_,{title:"\u8BC1\u4E66\u7EDF\u8BA1",desc:"SSL Cert"},{default:N(()=>[V(m,{ref:"HomeChartCertPie"},null,512)]),_:1}),V(_,{title:"\u57DF\u540D\u7EDF\u8BA1",desc:"Domain"},{default:N(()=>[V(m,{ref:"HomeChartDomainPie"},null,512)]),_:1}),V(_,{title:"\u76D1\u63A7\u7EDF\u8BA1",desc:"Monitor"},{default:N(()=>[V(m,{ref:"HomeChartMonitorPie"},null,512)]),_:1})])])}const Et=w(yt,[["render",xt]]);export{Et as default};
